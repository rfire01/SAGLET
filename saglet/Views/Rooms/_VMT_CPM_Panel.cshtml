@model IEnumerable<SAGLET.Models.CriticalMsgPoints>

@{
    string key = ViewData["key"].ToString();
    string cpmMin = ViewData["cpmMin"].ToString();
    string cpmAll = ViewData["cpmAll"].ToString();
    string cpmUnseen = ViewData["cpmUnseen"].ToString();
    bool listRoomID = Convert.ToBoolean(ViewData["listRoomID"]);
    bool listTrigger = Convert.ToBoolean(ViewData["listTrigger"]);
    bool listTime = Convert.ToBoolean(ViewData["listTime"]);
}


<div class="panel panel-default head-msg">
    <div class="panel-heading" data-toggle="collapse" data-target="#collapse-cpm-@key" data-priority="@cpmMin">
        <h4 class="panel-title">
            <span class="icon-plus-square"></span>
            <span class="icon-chat-bubble-two" data-toggle="tooltip" title="Critical Messages" data-placement="top"></span>
            <span id="vmt-room-@key-num-cp-msg" data-toggle="tooltip" title="Unhandeled / Total" data-placement="top" class="badge">
                <span class="first-value">@cpmUnseen</span>/<span class="second-value">@cpmAll</span>
            </span>
        </h4>
    </div>
    <div id="collapse-cpm-@key" class="panel-collapse collapse" data-type="cpm" data-roomid="@key">
        <div class="panel-body msg">
            @Html.Partial("_VMT_CPM", Model, new ViewDataDictionary {
                { "listRoomID", listRoomID },
                { "listTrigger", listTrigger },
                { "listTime", listTime }
            })
        </div>
    </div>
</div>

