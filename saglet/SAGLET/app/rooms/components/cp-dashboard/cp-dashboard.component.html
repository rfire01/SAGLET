<div class="cp-dashboard">
    <div class="panel panel-primary" id="cp-dashboard-primary">
        <div class="panel-heading" id="cp-dashboard-heading">Critical Points Dashboard</div>

        <div class="panel panel-default" style="margin-bottom:0px;">
            <div class="panel-heading" style="padding:1px;">
                Critical Points:
            </div>
            <div class="panel-body" style="padding:0px; max-height:150px; overflow-y:scroll;">
                <ul class="list-group" style="margin-bottom:7px;">
                    <li class="list-group-item" style="padding:2px; 10px; margin-bottom:0px;" ng-repeat="cp in vm.criticalPoints track by $index">
                        <div class="alert-warning">

                            <cp-icons style="float:left;" critical-point="cp" critical-point-index="$index"></cp-icons> {{cp.cpMessages[0].cpTime}} - {{cp.cpMessages[cp.cpMessages.length - 1].cpTime}}
                            <span class="btn-group" style="float:right;">
                                <button class="btn btn-link ng glyphicon glyphicon glyphicon-ok-sign"
                                        ng-click=""
                                        style="text-decoration:none; padding-top:2px; font-size:larger; margin-right:-10px;"></button>
                                <button class="btn btn-link ng glyphicon glyphicon-ok-circle"
                                        ng-click=""
                                        style="text-decoration:none; padding-top:2px; font-size:larger; float:right;"></button>


                            </span>
                        </div>
                        
                        


                    </li>


                </ul>

            </div>

        </div>

        <div class="panel panel-default" style="margin-bottom:0px;">
            <div class="panel-heading" style="padding:1px;">
                Idleness Users:
                <!--<cp-icons style="" critical-point="vm.idleForCpIcons"></cp-icons> - Idleness Users:-->
            </div>
            <div class="panel-body" style="padding:0px;">
                <ul class="list-group" style="margin-bottom:7px;">
                    <li class="list-group-item" style="padding:2px; 10px; font-size:smaller;" ng-repeat="user in vm.criticalPointsIdleness">
                        {{user}}
                    </li>


                </ul>

            </div>

        </div>

        <!--<div class="panel-body" style="padding:0px;">-->
        <!--<div class="panel panel-default" ng-repeat="cp in vm.criticalPoints" ng-if="!cp.cpType == 'idle'">
            <div class="panel-heading" style="padding:0px;">
                <span style="font-weight:bold;">{{cp.cpPriority}} |</span>
                <cp-icons style="" critical-points="[cp]" dashboard="vm.dashboard"></cp-icons>

                <button class="btn btn-default btn-sm glyphicon glyphicon-bell"
                        type="button"
                        role="group"
                        ng-click=""
                        style=""></button>
            </div>
            <div class="panel-body" style="padding:0px;">
                <ul class="list-group">
                    <li class="list-group-item" style="padding:5px; 10px;">
                        <label>User: </label>
                        <span style="direction:rtl; float:right;">{{cp.cpUser}}</span>
                    </li>
                    <li class="list-group-item" style="padding:5px; 10px;">
                        <label>Time: </label>
                        <span style="direction:rtl; float:right;"> {{cp.cpTime}}</span>
                    </li>
                    <li class="list-group-item" style="padding:5px; 10px;">
                        <label>Message: </label>
                        <div style="direction:rtl;">
                            {{cp.cpMsg}}
                        </div>

                    </li>

                </ul>
            </div>
            <div class="panel-body" style="padding:0px;" ng-if="cp.cpType == 'idle'">
                {{cp.cpType}}
                {{cp.cpMsg}}
                <ul class="list-group">
                    <li class="list-group-item" style="padding:5px; 10px;">
                        idleness

                </ul>
            </div>
            <div class="panel-footer" style="padding:0px;">
            </div>
        </div>-->
        <div class="panel panel-default" style="margin-bottom:0px; overflow-y:scroll; max-height:420px;">
            <div class="panel-heading" style="padding:1px;">
                Last Suspicious Messages
            </div>
            <div class="panel-body" style="padding:0px;">
                <ul class="list-group" style="margin-bottom:7px;">
                    <li class="list-group-item" style="padding:2px; 10px; font-size:smaller;" ng-repeat="cp in vm.criticalPointsMessages | orderBy: '-cpTime' ">
                        <!--ng-class="'list-group-item list-group-item-warning':($index < 10)"-->
                        <cp-icons style="" critical-point="cp"></cp-icons>
                        <span>{{cp.cpTime}}</span>
                        <span>({{cp.cpUser}})</span>
                        <span style="direction:rtl; float:right;">{{cp.cpMsg}}</span>

                    </li>


                </ul>

            </div>

        </div>






        <!--</div>-->

        <div class="panel-footer" style="padding:0px;">
            <div class="panel panel-default" style="margin-bottom:0px;">
                <div class="panel-heading" style="padding:0px;">Index</div>
                <div class="panel-body" style="padding:0px;">
                    <div ng-repeat="cp in vm.criticalPointsIndex" style="float:left; font-size:x-small; padding:4px;">
                        <cp-icons style="" critical-point="cp"></cp-icons> - {{cp.desc}}
                    </div>

                    <!--<ul class="list-group">
                        <li class="list-group-item" style="padding:2px; 10px; font-size:smaller;" ng-repeat="cp in vm.criticalPointsIndex">
                            <cp-icons style="" critical-point="cp"></cp-icons> - {{cp.desc}}
                        </li>


                    </ul>-->
                </div>

            </div>

        </div>
    </div>

</div>

